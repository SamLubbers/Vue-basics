<script src="https://npmcdn.com/vue/dist/vue.js"></script>

<style>
#effect {
  width: 100px;
  height: 100px;
  border: 1px solid black;
}

.highlight {
  background-color: red;
  width: 200px !important;
}

.shrink {
  background-color: gray;
  width: 50px !important;
}
.square{
  width: 100px;
  height: 100px;
  border: 1px solid black;
}
.rectangle{
  width: 300px;
  height: 100px;
  border: 1px solid black;
}
.dark{
  background-color: black;
}
.progressbar{
  height: 20px;
  max-width: 200px;
  background: blue;
}
</style>
<div id="exercise">
  <!-- 1) Start the Effect with the Button. The Effect should alternate the "highlight" or "shrink" class on each new setInterval tick (attach respective class to the div with id "effect" below) -->
  <div>
    <button @click="startEffect">{{effectState}} effect</button>
    <div id="effect" :class="effectClass"></div>
  </div>
  <!-- 2) Create a couple of CSS classes and attach them via the array syntax -->
  <hr>
  <div :class='[shape, styling]'></div>
  <!-- 3) Let the user enter a class (create some example classes) and attach it -->
  <hr>
  <div>
    class (rectangle / square) <input type="text" v-model='userClass'>
    <div :class="userClass"></div>
  </div>
  <!-- 4) Let the user enter a class and enter true/ false for another class (create some example classes) and attach the classes -->
  <hr>
  <div>
    class (rectangle / square) <input type="text" v-model='userClass2'>
    <br>
    <input type="checkbox" v-model='isdark' id="isDark">
    <label for="isDark">dark</label>
    <div :class="[userClass2, {dark: isdark}]"></div>
  </div>
  <!-- 5) Repeat 3) but now with values for styles (instead of class names). Attach the respective styles.  -->
  <div>
    <hr>
    width <input type="text" v-model='width'>
    <br>
    height <input type="text" v-model='height'>
    <br>
    color <input type="text" v-model='color'>
    <div :style="userStyle"></div>
  </div>
  <!-- 6) Create a simple progress bar with setInterval and style bindings. Start it by hitting the below button. -->
  <div>
    <hr>
    <button v-on:click="startProgress">Start Progress</button>
    <div class="progressbar" :style="{width:barWidth+'%'}"></div>
  </div>
</div>
<script type="text/javascript">
  new Vue({
    el: '#exercise',
    data: {
      effectClass:'',
      effectStarted: false,
      shape: 'square',
      styling: 'dark',
      userClass: 'rectangle',
      userClass2: 'square',
      isdark: false,
      width: 100,
      height: 100,
      color: 'gray',
      barWidth: 0
    },
    computed: {
      effectState: function(){
        return this.effectStarted ? 'stop' : 'start';
      },
      userStyle: function(){
        return {
          'width': this.width + 'px',
          'height': this.height + 'px',
          'background-color': this.color
        };
      }
    },
    methods:{
      startEffect: function(){
        this.effectStarted = !this.effectStarted;
        if(this.effectStarted){
          vm = this;
          vm.effect = setInterval(function(){
            if(vm.effectClass == 'highlight'){
              vm.effectClass = 'shrink';
            }
            else{
              vm.effectClass = 'highlight';
            }
          }, 500)
        }
        else{
          vm.effectClass = '';
          clearInterval(this.effect);
        }
      },
      startProgress: function(){
        vm = this;
        vm.barWidth = 0;
        barprogress = setInterval(function(){
          vm.barWidth += 1;
          if(vm.barWidth >= 100){
            clearInterval(barprogress);
          }
        }, 20)
      }
    }
  });
</script>
